<div class="navbar-wagon">
  <%= link_to root_path, class: "navbar-wagon-brand" do %>
    <%= image_tag "yujams_logo.png" %>
  <% end %>
  <div class="navbar-wagon-right hidden-xs hidden-sm">
    <!-- Different navigation if login or not -->
    <div class="nav-options" >
      <form class="searchbox">
        <input type="search" placeholder="Search for jams" name="search" class="searchbox-input" onkeyup="buttonUp();" required>
        <input type="submit" class="searchbox-submit" value="GO">
        <span class="navbar-search searchbox-icon">GO</span>
      </form>
    </div>
      <div class="navbar-search">
        <a><strong>Search</strong></a>
      </div>

    <% if user_signed_in? %>
      <div class="nav-options">
        <a ><span><%= link_to "Profile", current_user %></span></a>
        <a ><span><%= link_to("Create", new_jam_path) %></span></a>
        <a ><span><%= link_to('Logout', destroy_user_session_path, method: :delete) %></span></a>
      </div>
    <% else %>
      <div class="nav-options">
        <a data-toggle="modal" data-target="#login"><span>Login</span></a>
      </div>
        <% end %>
  </div>

    <!-- Login Modal -->
    <div class="modal fade" id="login" >
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <%= image_tag "yujams_logo.png" %>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

      <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
        <div class="modal-body">
          <div class="form-inputs">
            <%= f.input :email, required: false, autofocus: true %>
            <%= f.input :password, required: false %>
            <% if devise_mapping.rememberable? -%>
              <%= f.check_box :remember_me, {:checked => "checked"} %>
              <%= f.label :remember_me %>
            <% end -%>
          </div>
            <a class="pull-left">
            <%- if devise_mapping.omniauthable? %>
                  <%- resource_class.omniauth_providers.each do |provider| %>
                    <%= link_to "Sign in with #{OmniAuth::Utils.camelize(provider)}", omniauth_authorize_path(resource_name, provider) %><br />
                  <% end -%>
                <% end -%>
            </a>
        </div>
        <div class="modal-footer">
          <div class="form-actions">

            <a><%= f.button :submit, "Log in" %></a>
            <a href="#signup" data-toggle="modal" data-dismiss="modal" class="pull-left"><%= f.button :submit, "Signup" %></a>

          </div>
        </div>
      <% end %>

      </div>
      </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal fade" id="signup" >
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <%= image_tag "yujams_logo.png" %>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

      <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
        <div class="modal-body">
          <p><%= f.error_notification %></p>

          <div class="form-inputs">
            <%= f.input :email, required: true, autofocus: true %>
            <%= f.input :password, required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length) %>
            <%= f.input :password_confirmation, required: true %>
          </div>
        </div>
        <div class="modal-footer">
          <div class="form-actions">
            <%= f.button :submit, "Sign up" %>
          </div>
        </div>
      <% end %>

      </div>
      </div>
    </div>

  </div>
</div>
